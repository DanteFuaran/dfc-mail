"""–¢–µ–∫—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π"""
from src.config import settings


def welcome_text(name: str = "") -> str:
    return (
        f"üìß <b>DFC Mail Bot</b>\n\n"
        f"–ü—Ä–∏–≤–µ—Ç{', ' + name if name else ''}! "
        f"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω —Ü–∏—Ñ—Ä–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤.\n\n"
        f"–ò—Å–ø–æ–ª—å–∑—É–π –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏."
    )


FAQ_TEXT = (
    "‚ùì <b>–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</b>\n\n"
    "1. <b>–ö–∞–∫ –∫—É–ø–∏—Ç—å —Ç–æ–≤–∞—Ä?</b>\n"
    "   –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä –≤ –∫–∞—Ç–∞–ª–æ–≥–µ, —É–∫–∞–∂–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –æ–ø–ª–∞—Ç–∏—Ç–µ.\n\n"
    "2. <b>–ö–∞–∫ –ø–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å?</b>\n"
    "   –†–∞–∑–¥–µ–ª ¬´–ë–∞–ª–∞–Ω—Å¬ª ‚Üí —Å–ø–æ—Å–æ–± –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è.\n\n"
    "3. <b>–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞</b>\n"
    "   –ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π ‚Äî –ø–æ–ª—É—á–∞–π—Ç–µ 10% —Å –∏—Ö –ø–æ–∫—É–ø–æ–∫.\n\n"
    "4. <b>–°–∫–æ—Ä–æ—Å—Ç—å –≤—ã–¥–∞—á–∏?</b>\n"
    "   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã.\n\n"
    "5. <b>–í–æ–∑–≤—Ä–∞—Ç?</b>\n"
    "   –¶–∏—Ñ—Ä–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã –≤–æ–∑–≤—Ä–∞—Ç—É –Ω–µ –ø–æ–¥–ª–µ–∂–∞—Ç.\n\n"
    "–ü–æ –¥—Ä—É–≥–∏–º –≤–æ–ø—Ä–æ—Å–∞–º ‚Äî —Ä–∞–∑–¥–µ–ª ¬´–ü–æ–¥–¥–µ—Ä–∂–∫–∞¬ª."
)

RULES_TEXT = (
    "üìú <b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</b>\n\n"
    "1. –¶–∏—Ñ—Ä–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã –≤–æ–∑–≤—Ä–∞—Ç—É –Ω–µ –ø–æ–¥–ª–µ–∂–∞—Ç.\n"
    "2. –í—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã ‚Äî ¬´–∫–∞–∫ –µ—Å—Ç—å¬ª, –±–µ–∑ –≥–∞—Ä–∞–Ω—Ç–∏–π.\n"
    "3. –ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –Ω–µ–∑–∞–∫–æ–Ω–Ω—ã—Ö —Ü–µ–ª—è—Ö.\n"
    "4. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π.\n"
    "5. –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª ‚Üí –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤.\n\n"
    "–ü—Ä–æ–¥–æ–ª–∂–∞—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏."
)


def balance_text(balance: float) -> str:
    return (
        f"üí∞ <b>–í–∞—à –±–∞–ª–∞–Ω—Å: {balance:.2f} ‚ÇΩ</b>\n\n"
        "–°—Ä–µ–¥—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–æ–∫—É–ø–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤.\n"
        "–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è:"
    )


def referral_text(referral_code: str, count: int = 0, earnings: float = 0.0) -> str:
    bot_username = settings.BOT_NAME
    link = f"https://t.me/{bot_username}?start={referral_code}"
    return (
        "üë• <b>–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞</b>\n\n"
        f"–í–∞—à–∞ —Å—Å—ã–ª–∫–∞:\n<code>{link}</code>\n\n"
        f"üë§ –†–µ—Ñ–µ—Ä–∞–ª–æ–≤: <b>{count}</b>\n"
        f"üí∞ –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: <b>{earnings:.2f} ‚ÇΩ</b>\n\n"
        "–í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ 10% —Å –∫–∞–∂–¥–æ–π –ø–æ–∫—É–ø–∫–∏ –≤–∞—à–∏—Ö —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤."
    )


def order_text(order) -> str:
    status_emoji = {
        "–û–ñ–ò–î–ê–ï–¢ –û–ü–õ–ê–¢–´": "‚è≥", "–û–ü–õ–ê–ß–ï–ù–û": "‚úÖ",
        "–í–´–ü–û–õ–ù–ï–ù–û": "‚úîÔ∏è", "–û–¢–ú–ï–ù–ï–ù–û": "‚ùå",
    }
    emoji = status_emoji.get(order.status, "‚ùì")
    text = (
        f"üì¶ <b>–ó–∞–∫–∞–∑ #{order.id}</b>\n\n"
        f"–°—Ç–∞—Ç—É—Å: {emoji} {order.status}\n"
        f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {order.quantity} —à—Ç.\n"
        f"–¶–µ–Ω–∞: {order.price_per_unit:.2f} ‚ÇΩ/—à—Ç.\n"
    )
    if order.discount > 0:
        text += f"–°–∫–∏–¥–∫–∞: {order.discount}%\n"
    text += f"üí∞ –ò—Ç–æ–≥–æ: {order.total_amount:.2f} ‚ÇΩ"
    if order.created_at:
        text += f"\nüìÖ –°–æ–∑–¥–∞–Ω: {order.created_at.strftime('%d.%m.%Y %H:%M')}"
    return text


def product_detail_text(product) -> str:
    has_stock = product.stock_count > 0
    text = (
        f"üì¶ <b>{product.name}</b>\n\n"
        f"üí∞ –¶–µ–Ω–∞: {product.price:.2f} ‚ÇΩ\n"
        f"üìä –í –Ω–∞–ª–∏—á–∏–∏: {product.stock_count if has_stock else 0} —à—Ç.\n"
    )
    if product.description:
        text += f"\nüìù {product.description}\n"
    if product.format_info:
        text += f"\nüìã –§–æ—Ä–º–∞—Ç: {product.format_info}\n"
    if product.recommendations:
        text += f"\nüí° {product.recommendations}\n"
    if not has_stock:
        text += "\n‚ùå <i>–¢–æ–≤–∞—Ä –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</i>"
    return text


SUPPORT_TEXT = (
    "üí¨ <b>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</b>\n\n"
    "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –∏ –Ω–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.\n"
    "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç–≤–µ—Ç–∏—Ç –≤–∞–º –≤ —ç—Ç–æ–º –∂–µ —á–∞—Ç–µ."
)

SUPPORT_WRITE_PROMPT = (
    "‚úèÔ∏è <b>–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</b>\n\n"
    "–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç ‚Äî –æ–Ω –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É."
)
